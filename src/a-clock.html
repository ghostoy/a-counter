<link rel="import" href="a-counter.html">
<polymer-element name="a-clock" attributes="12hours">
	<template>
		<style>
		:host {
			display	: -webkit-flex;
			display	: -moz-flex;
			display	: -ms-flex;
			display	: -ms-flexbox;
			display	: -o-flex;
			display	: flex;
		}
		#h {
			-webkit-flex: 2 2;
			-moz-flex	: 2 2;
			-ms-flex 	: 2 2;
			-o-flex 	: 2 2;
			flex 		: 2 2;
		}
		#m {
			-webkit-flex: 3 3;
			-moz-flex 	: 3 3;
			-ms-flex 	: 3 3;
			-o-flex		: 3 3;
			flex 		: 3 3;
		}
		#s {
			-webkit-flex: 5 5;
			-moz-flex	: 5 5;
			-ms-flex 	: 5 5;
			-o-flex 	: 5 5;
			flex 		: 5 5;
		}
		</style>
		<a-counter id="h" value="0" max-length="2" animation="super-fast"></a-counter>
		<a-counter id="m" value="0" max-length="2" pre=":" animation="super-fast"></a-counter>
		<a-counter id="s" value="0" max-length="2" pre=":" post="  " animation="super-fast"></a-counter>
	</template>
	<script>
	Polymer('a-clock', {
		'12hours': false,
		ready: function() {
			this.updateTime();
		},
		updateTime: function() {
			var time = new Date();
			var hours = time.getHours();
			var ampm = this['12hours'];
			if (ampm) {
				if (hours < 12) {
					this.$.s.post = 'AM';
					this.$.h.value = hours === 0 ? 12 : hours;
				} else {
					this.$.s.post = 'PM';
					this.$.h.value = hours - 12;
				}
			} else {
				this.$.h.value = hours;
			}
			
			this.$.m.value = time.getMinutes();
			this.$.s.value = time.getSeconds();
			setTimeout(this.updateTime.bind(this), 1000);
		}
	})
	</script>
</polymer-element>
